name = "towerhouse-apps"
main = "src/index.ts"
compatibility_date = "2024-12-01"
workers_dev = false  # Disable workers.dev URL, only allow custom domain

# Static assets served from /public
assets = { directory = "public" }

# Custom domain: Set up via Cloudflare Dashboard
# Workers & Pages > towerhouse-apps > Settings > Domains > Add Custom Domain

[[d1_databases]]
binding = "DB"
database_name = "towerhouse-db"
database_id = "593c5030-9c5e-4b2f-b7fb-eca50b232dbb"
migrations_dir = "migrations"

[[r2_buckets]]
binding = "IMAGES"
bucket_name = "tech-island-2-images"

[[r2_buckets]]
binding = "FLASHCARD_AUDIO"
bucket_name = "tech-island-2-flashcard-audio"

[vars]
# APP_URL and ADMIN_EMAIL set via GitHub secrets -> wrangler

[observability]
enabled = true

[observability.logs]
invocation_logs = true
head_sampling_rate = 1
