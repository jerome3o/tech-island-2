name = "towerhouse-apps"
main = "src/index.ts"
compatibility_date = "2024-12-01"

# Static assets served from /public
assets = { directory = "public" }

# Custom domain: Set up via Cloudflare Dashboard
# Workers & Pages > towerhouse-apps > Settings > Domains > Add Custom Domain

[[d1_databases]]
binding = "DB"
database_name = "towerhouse-db"
# database_id set via: wrangler d1 info towerhouse-db
database_id = "${D1_DATABASE_ID}"
migrations_dir = "migrations"

[vars]
# APP_URL set via GitHub secret -> wrangler

[observability]
enabled = true

[observability.logs]
invocation_logs = true
head_sampling_rate = 1
